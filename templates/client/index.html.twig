{% extends 'base.html.twig' %}

{% block title %}GES_DETTES
{% endblock %}

{% block body %}

	<div class="w-full flex justify-center  justify-between gap-5   flex-row  p-6">
		<div class="flex flex-col gap-4 justify-center w-full h-fit p-4 rounded-lg bg-gray-800">
			<div class="  border-b  border-gray-500 border-solid flex justify-between flex-row items-center pb-3  p-2 mb-1 ">
				<h2 class="text-lg font-semibold text-white ">List Client</h2>
				
				<button>
					<a href="{{path('clients.store')}}" class="text-white bg-blue-500 hover:bg-blue-700  py-3 px-4 rounded mb-3">Add Client</a>
				</button>
			</div>
			<div class="border-b border-gray-500 border-solid flex justify-between items-center  mb-3 ">
				{% form_theme form 'search.form.theme.html.twig' %}
				{{ form_start(form, {'action': path('clients.index'), 'method': 'POST', 'attr': {'class': 'flex flex-row items-center justify-center space-x-2 w-full  p-3'}}) }}
				<div class="w-full">
					{{ form_row(form.telephone) }}
				</div>
				{{ form_end(form) }}
			</div>

			<div class="flex  flex-col gap-4 justify-between items-center overflow-x-auto shadow-md rounded-lg mt-4 w-full ">
				<table class=" w-full text-sm text-left text-gray-500 ">
					<thead class="text-lg text-gray-700 uppercase bg-gray-200">
						<tr>
							<th class="py-3 px-6">
								img</th>
							<th class="py-3 px-6">Name</th>
							<th class="py-3 px-6">Phone</th>
							<th class="py-3 px-6">Addresse</th>
							<th class="py-3 px-6">Actions</th>
						</tr>
					</thead>
					<tbody>
						{% for client in clients %}
							<tr class="bg-white border-b">
								<td class="py-4 px-6"><img src="{{ asset('build/images/profile13.png') }}" alt="profile.png" class="rounded w-10 h-10"/></td>
								<td class="py-4 px-6">{{ client.nom }}</td>
								<td class="py-4 px-6">{{ client.telephone }}</td>
								<td class="py-4 px-6">{{ client.addresse }}</td>
								<td class="py-4 px-6">
									<a href="" class="text-blue-500 hover:underline">Edit</a>
									|
									<a href="" class="text-red-500 hover:underline">Delete</a>
									|
									<a href="{{ path('clients.dettes', { id: client.id }) }}" class="text-gray-900 hover:underline">Dette</a>
								</td>
							</tr>
						{% else %}
							<tr>
								<td colspan="5" class="py-4 px-6 text-center">No clients found.</td>
							</tr>
						{% endfor %}
					</tbody>

				</table>
			</div>
			<div class="flex justify-center mt-2">
				{% if total_pages > 1 %}
					<nav aria-label="Page navigation example">
						<ul class="inline-flex -space-x-px text-base h-10">
							{% if current_page > 1 %}
								<li>
									<a href="{{ path('clients.index', { page: current_page - 1 }) }}" class="flex items-center justify-center px-4 h-10 ms-0 leading-tight text-gray-500 bg-white border border-e-0 border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700">Previous</a>
								</li>
							{% else %}
								<li>
									<span class="flex items-center justify-center px-4 h-10 ms-0 leading-tight text-gray-400 bg-gray-200 border border-e-0 border-gray-300 rounded-s-lg">Previous</span>
								</li>
							{% endif %}

							{% for page in 1..total_pages %}
								<li>
									<a href="{{ path('clients.index', { page: page, telephone: form.telephone.vars.value }) }}" class="flex items-center justify-center px-4 h-10 leading-tight {{ page == current_page ? 'text-blue-600 bg-blue-50' : 'text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700' }}">
										{{ page }}
									</a>
								</li>
							{% endfor %}

							{% if current_page < total_pages %}
								<li>
									<a href="{{ path('clients.index', { page: current_page + 1 }) }}" class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700">Next</a>
								</li>
							{% else %}
								<li>
									<span class="flex items-center justify-center px-4 h-10 leading-tight text-gray-400 bg-gray-200 border border-gray-300 rounded-e-lg">Next</span>
								</li>
							{% endif %}
						</ul>
					</nav>
				{% endif %}
			</div>

		</div>
	</div>


{% endblock %}
